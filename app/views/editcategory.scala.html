@import model._
@(categories: List[Category],header:Html)(implicit errorStr: String)
@main(header) {
    <div class="page-header">
        <h1>Edit Category</h1>
    </div>
    <div class="table-responsive">
            <table id="categoryEditTable" class="table">
                <tbody>
                    @for(category <- categories) {
                    <tr class="active">
                        <td id="categoryName_@category.id"><strong>@category.name</strong></td>
                        <td align="right">
                            <button onclick="updateCategory(@category.id)" id="updateCategory" type="button" class="btn btn-warning btn-xs">Update</button>
                            <button onclick="deleteCategory(@category.id)" id="deleteCategory" type="button" class="btn btn-danger btn-xs">Remove</button>
                        </td>
                    </tr>
                    <tr class="active">
                        <td colspan="2" id="categoryDesc_@category.id">@category.description</td>
                        <input  type="hidden" id="categoryIdHidden_@category.id"   name="categoryIdHidden_@category.id"  value="@category.id"/>
                        <input  type="hidden" id="categoryNameHidden_@category.id" name="categoryNameHidden_@category.id" value="@category.name"/>
                        <input  type="hidden" id="categoryDescHidden_@category.id" name="categoryDescHidden_@category.id" value="@category.description"/>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                    </tr>
                }
                </tbody>
            </table>
            <button type="button" class="btn btn-info btn-xs" data-toggle="modal" data-target="#categoryModel">Add New</button>
            <form id="deleteForm" name="deleteForm" method="POST" action="@routes.Application.deletecategory">
                <input type="hidden" id="deleteCategoryId" name="categoryId[]" value=""/>
            </form>
    </div>
    <div class="modal fade" id="categoryModel" tabindex="-1" role="dialog" aria-labelledby="newCategoryLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="newCategoryLabel">Add New Category</h4>
                </div>
                <div class="modal-body">
                    <form method="POST" action="@routes.Application.addcategory">
                        <div class="form-group">
                            <input type="text" id="newCategoryNameId" name="categoryName" placeholder="Category Name" class="form-control" autofocus required/>
                        </div>
                        <div class="form-group">
                            <textarea class="form-control" id="newCategoryDescId" name="categoryDesc" placeholder="Category Description" required></textarea>
                        </div>
                        <input  type="hidden" id="categoryId" name="categoryId" value=""/>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" id="saveNewCategoryButton" class="btn btn-primary">Save changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="categoryModelUpdate" tabindex="-1" role="dialog" aria-labelledby="updateCategoryLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="updateCategoryLabel">Update Category</h4>
            </div>
            <div class="modal-body">
                <form method="POST" action="@routes.Application.updatecategory">
                    <div class="form-group">
                        <h4 id="updateCategoryHeader"></h4>
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" id="updateCategoryDescId" name="categoryDesc" placeholder="Category Description" autofocus required></textarea>
                    </div>
                    <input  type="hidden" id="updatecategoryId"  name="categoryId" value=""/>
                    <input  type="hidden" id="updateCategoryNameId" name="categoryName" value=""/>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="submit" id="saveUpdateCategoryButton" class="btn btn-primary">Save changes</button>
                </form>
            </div>
        </div>
    </div>
</div>
}
